<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>sidframe</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="/_vercel/insights/script.js"></script>
  <link rel="shortcut icon" href="images/faavicon.png" type="image/x-icon"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
</head>
<body>

<a href="index.html" class="back">‚Üê Back to Blog</a>

<main class="post-container" id="post"></main>

<div class="contact">
    <h2>Enjoyed the post?</h2>
    <p>Feel free to reach out or share your thoughts!</p>
    <a href="contact.html" id="nav-btn-c">Connect With Me!</a>
</div>

<script>
const id = new URLSearchParams(window.location.search).get("id");

fetch("posts.json")
.then(res => res.json())
.then(posts => {
  const post = posts.find(p => p.id == id);
  const postContainer = document.getElementById("post");

  // Title and metadata
  postContainer.innerHTML = `
    <h1>${post.title}</h1>
    <p class="date">${post.date}</p>
    ${post.image ? `<img src="${post.image}" class="post-image">` : ""}
  `;

  // Render content dynamically
  post.content.forEach(block => {
    if(block.type === "paragraph") {
      const p = document.createElement("p");
      p.textContent = block.text;
      postContainer.appendChild(p);
    }
    // If you want, you can handle other block types like headings, code, etc.
  });

  // Optional additional sections
  if(post.Morecontent){
    const more = document.createElement("div");
    more.classList.add("content");
    more.textContent = post.Morecontent;
    postContainer.appendChild(more);
  }

  if(post.Author){
    const authorDiv = document.createElement("div");
    authorDiv.classList.add("author");
    authorDiv.textContent = post.Author;
    postContainer.appendChild(authorDiv);
  }
});
</script>

</body>
</html>
